<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Мои запросы</title>
  <link rel="stylesheet" href="../static/styles/user_page2.css">
  <script src="https://cdn.jsdelivr.net/npm/file-saver@2.0.5/dist/FileSaver.min.js"></script>
</head>
<body>
  <header>
    <h1>Мои запросы</h1>
    <img src="../static/images/logo.png" class="logo" alt="Логотип">
  </header>
  <main>
   <div id="modal" class="modal">
      <div class="modal-content">
        <span class="close">&times;</span>
        <h2>Информация о запросе</h2>
        <p><strong>ID запроса:</strong> <span id="modalRequestId"></span></p>
        <p><strong>Статус:</strong> <span id="modalRequestStatus"></span></p>
        <p><strong>Описание:</strong> <span id="modalRequestDescription"></span></p>
        <p><strong>Комментарий:</strong> <span id="modalRequestComment"></span></p>
        <p><strong>Активность:</strong> <span id="modalRequestActivity"></span></p>
        <p><strong>Пользователь:</strong><span class="user-field" id="modalRequestUser"></span></p>
        <p><strong>Дата создания:</strong> <span id="modalRequestDateCreated"></span></p>
        <p><strong>Последняя активность:</strong> <span id="modalRequestLastActivity"></span></p>
        <p><strong>Ревьюер:</strong> <span id="modalRequestReviewUser"></span></p>
        <p><strong>SQL Запрос:</strong> <span id="modalRequestRequest"></span></p>
        <pre><code id="modalRequestSQL"></code></pre>
      </div>
    </div>

    <div id="createRequestModal" class="modal">
      <div class="modal-content">
        <span class="close">&times;</span>
        <h2>Создать новый запрос</h2>
        <form id="createRequestForm">
          <label for="user">Пользователь:</label>
          <p id="username"></p>
          <label for="id">ID:</label>
          <p id="id"></p>
          <label for="date_created">Дата создания:</label>
          <p id="date_created"></p>
          <label for="activity">Последняя активность:</label>
          <p id="activity"></p>
          <label for="status">Статус:</label>
          <p id="status">in review</p>
          <label for="review_user">Ревьюер:</label>
          <p id="review_user"></p>
          <label for="description">Описание:</label>
          <input type="text" id="description" name="description" required>
          <label for="comment">Комментарий:</label>
          <input type="text" id="comment" name="comment" required>
          <label for="request">Запрос:</label>
          <textarea id="request" name="request" required></textarea>
          <button type="submit">Создать</button>
        </form>
      </div>
    </div>

    <div id="runModal" class="modal">
      <div class="modal-content">
        <span class="close">&times;</span>
        <h2>Результаты выполнения запроса</h2>
        <p><strong>ID запроса:</strong> <span id="runModalRequestId"></span></p>
        <p><strong>Описание:</strong> <span id="runModalDescription"></span></p>
        <p><strong>Результаты выполнения:</strong><span>Что-то есть</span></p>
        <button id="downloadCSV">Скачать CSV</button>
      </div>
    </div>

    <table id="requestTable">
      <thead>
        <tr>
          <th id="idHeader">ID запроса</th>
          <th id="statusHeader">Статус</th>
          <th id="descriptionHeader">Описание</th>
          <th>Комментарий</th>
          <th>Запрос</th>
          <th id="activityHeader">Активность</th>
          <th>Действия</th>
          <th></th>
          <th></th>
        </tr>
      </thead>
    </table>
    <div class="pagination">
      <button id="prevPage">&lt;</button>
      <button class="page active">1</button>
      <button class="page">2</button>
      <button class="page">3</button>
      <button class="page">4</button>
      <button class="page">5</button>
      <span>...</span>
      <button class="page">12</button>
      <button id="nextPage">&gt;</button>
    </div>
    <button class="create" id="createRequest">Создать</button>
  </main>
  <script src="../static/js/user_page.js"></script>
</body>
</html>
